(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(6981)}])},6981:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return $},default:function(){return L}});var n=r(5893),a=r(7294),s=r(3801),l=r(3153),i=r(3299),o=r(7539),c=new(r.n(o)())({clientId:"d292540e570d4d22b57f58539336c62b",clientSecret:"3658db533a1747b9a0cfc20cd6764243"}),u=function(){var e=(0,i.useSession)(),t=e.data;e.status;return(0,a.useEffect)((function(){t&&("RefreshAccessTokenError"===t.error&&(0,i.signIn)(),c.setAccessToken(t.user.accessToken))}),[t]),c},f=r(2804),d=(0,f.cn)({key:"playlistIdState",default:"37i9dQZEVXcQ4US7rcT7rn"}),m=(0,f.cn)({key:"playlistState",default:null});function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);l=!0);}catch(o){i=!0,a=o}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(){var e=u(),t=(0,i.useSession)(),r=t.data,o=(t.status,(0,a.useState)([])),c=o[0],m=o[1],h=x((0,f.FV)(d),2),y=h[0],v=h[1];return console.log("you picked playlist",y),(0,a.useEffect)((function(){e.getAccessToken()&&e.getUserPlaylists().then((function(e){m(e.body.items)}))}),[r,e]),(0,n.jsx)("div",{className:"text-gray-500 p-5 text-xs lg:text-sm sm:max-w-[12rem] lg:max-w-[15rem] border-r border-gray-900 overflow-y-scroll h-screen scrollbar-hide hidden md:inline-flex pb-36",children:(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("button",{className:"flex items-center space-x-2 hover:text-white",children:[(0,n.jsx)(s.tvw,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:"home"})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-2 hover:text-white",children:[(0,n.jsx)(s.W1M,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:"Search"})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-2 hover:text-white",children:[(0,n.jsx)(s.VqP,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:"Library"})]}),(0,n.jsx)("hr",{className:"border-top-[0.1x] border-gray-900"}),(0,n.jsxs)("button",{className:"flex items-center space-x-2 hover:text-white",children:[(0,n.jsx)(s.wl8,{className:"h-5 w-5"}),(0,n.jsx)("p",{children:"Create Playlist"})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-2 hover:text-white",children:[(0,n.jsx)(l.h_8,{className:"h-5 w-5 text-blue-500"}),(0,n.jsx)("p",{children:"Liked Songs"})]}),(0,n.jsxs)("button",{className:"flex items-center space-x-2 hover:text-white",children:[(0,n.jsx)(s.HO6,{className:"h-5 w-5 text-green-500"}),(0,n.jsx)("p",{children:"Your Episodes"})]}),(0,n.jsx)("hr",{className:"border-top-[0.1x] border-gray-900"}),c.map((function(e){return(0,n.jsx)("p",{className:"cursor-pointer hover:text-white",onClick:function(){return v(e.id)},children:e.name},e.id)}))]})})},v=r(6486);function p(e){var t=Math.floor(e/6e4),r=(e%6e4/1e3).toFixed(0);return 60==r?t+1+":00":t+":"+(r<10?"e":"")+r}var b=(0,f.cn)({key:"currentTrackIdState",default:null}),j=(0,f.cn)({key:"isPlayingState",default:!1});function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);l=!0);}catch(o){i=!0,a=o}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var N=function(e){var t=e.order,r=e.track,a=u(),s=w((0,f.FV)(b),2),l=(s[0],s[1]),i=w((0,f.FV)(j),2),o=(i[0],i[1]);return(0,n.jsxs)("div",{className:"grid grid-cols-2 text-gray-500 py-4 px-5 hover:bg-gray-900 rounded-lg cursor-pointer",onClick:function(){l(r.track.id),o(!0),a.play({uris:[r.track.uri]})},children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("p",{children:t+1}),(0,n.jsx)("img",{className:"h-10 w-10",src:r.track.album.images[0].url,alt:""}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"w-36 lg:w-64 xl:w-80 truncate text-white",children:r.track.name}),(0,n.jsx)("p",{className:"w-40",children:r.track.artists[0].name})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-between ml-auto md:ml-0",children:[(0,n.jsx)("p",{className:"hidden md:inline w-40",children:r.track.album.name}),(0,n.jsx)("p",{children:p(r.track.duration_ms)})]})]})},k=function(){var e=(0,f.sJ)(m);return(0,n.jsx)("div",{className:"px-8 flex flex-col space space-y-1 pb-28 text-white",children:null===e||void 0===e?void 0:e.tracks.items.map((function(e,t){return(0,n.jsx)(N,{track:e,order:t},e.track.id)}))})};function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);l=!0);}catch(o){i=!0,a=o}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=["from-indigo-500","from-blue-500","from-green-500","from-red-500","from-yellow-500","from-pink-500","from-purple-500"],E=function(){var e,t,r,l=(0,i.useSession)().data,o=(0,a.useState)(),c=o[0],h=o[1],x=u(),y=(0,f.sJ)(d),p=A((0,f.FV)(m),2),b=p[0],j=p[1];return(0,a.useEffect)((function(){h((0,v.shuffle)(C).pop())}),[y]),(0,a.useEffect)((function(){x.getPlaylist(y).then((function(e){j(e.body)})).catch((function(e){return console.log("Something went wrong!",e)}))}),[x,y]),(0,n.jsxs)("div",{className:"flex-grow h-screen overflow-y-scroll scrollbar-hide",children:[(0,n.jsx)("header",{className:"absolute top-5 right-8 ",children:(0,n.jsxs)("div",{className:"flex items-center bg-black space-x-3 opacity-90 hover:opacity-80 cursor-pointer rounded-full p-1 pr-2 text-white",onClick:i.signOut,children:[(0,n.jsx)("img",{className:"rounded-full w-10 h-10",src:null===l||void 0===l||null===(e=l.user)||void 0===e?void 0:e.image,alt:""}),(0,n.jsx)("h2",{children:null===l||void 0===l?void 0:l.user.name}),(0,n.jsx)(s.v4q,{className:"h-5 w-5"})]})}),(0,n.jsxs)("section",{className:"flex items-end space-x-7 bg-gradient-to-b to-black ".concat(c," h-80 text-white p-8"),children:[(0,n.jsx)("img",{className:"h-44 w-44 shadow-2xl",src:null===b||void 0===b||null===(t=b.images)||void 0===t||null===(r=t[0])||void 0===r?void 0:r.url,alt:""}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{children:"PLAYLIST"}),(0,n.jsx)("h1",{className:"text-2xl md:text-3xl xl:text-5xl font-bold",children:null===b||void 0===b?void 0:b.name})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(k,{})})]})},I=r(4051),_=r.n(I);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function O(e,t,r,n,a,s,l){try{var i=e[s](l),o=i.value}catch(c){return void r(c)}i.done?t(o):Promise.resolve(o).then(n,a)}function P(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);l=!0);}catch(o){i=!0,a=o}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(){var e=u(),t=P((0,f.FV)(b),2),r=t[0],n=(t[1],(0,a.useState)(null)),s=n[0],l=n[1];return(0,a.useEffect)((function(){var t=function(){var t,n=(t=_().mark((function t(){var n;return _().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!r){t.next=5;break}return t.next=3,fetch("https://api.spotify.com/v1/tracks/".concat(r),{headers:{Authorization:"Bearer ".concat(e.getAccessToken())}}).then((function(e){return e.json()}));case 3:n=t.sent,l(n);case 5:case"end":return t.stop()}}),t)})),function(){var e=this,r=arguments;return new Promise((function(n,a){var s=t.apply(e,r);function l(e){O(s,n,a,l,i,"next",e)}function i(e){O(s,n,a,l,i,"throw",e)}l(void 0)}))});return function(){return n.apply(this,arguments)}}();t()}),[r,e]),s};function V(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,s=[],l=!0,i=!1;try{for(r=r.call(e);!(l=(n=r.next()).done)&&(s.push(n.value),!t||s.length!==t);l=!0);}catch(o){i=!0,a=o}finally{try{l||null==r.return||r.return()}finally{if(i)throw a}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return V(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=function(){var e,t,r,o,c=(0,i.useSession)(),d=c.data,m=(c.status,F((0,f.FV)(b),2)),h=m[0],x=m[1],y=F((0,f.FV)(j),2),p=y[0],g=y[1],w=(0,a.useState)(50),N=w[0],k=w[1],S=M(),A=u(),C=function(){A.getMyCurrentPlaybackState().then((function(e){e.body.is_playing?(A.pause(),g(!1)):(A.play(),g(!0))}))},E=(0,a.useCallback)((0,v.debounce)((function(e){A.setVolume(e).catch((function(e){}))}),200),[]);return(0,a.useEffect)((function(){A.getAccessToken()&&!h&&(S||A.getMyCurrentPlayingTrack().then((function(e){var t,r;x(null===(t=e.body)||void 0===t||null===(r=t.item)||void 0===r?void 0:r.id),A.getMyCurrentPlaybackState().then((function(e){var t;g(null===(t=e.boy)||void 0===t?void 0:t.is_playing)}))})),k(50))}),[h,A,d]),(0,a.useEffect)((function(){N>0&&N<100&&E(N)}),[N]),(0,n.jsxs)("div",{className:"h-24 bg-gradient-to-b from-black to-gray-900 text-white grid grid-cols-3 text-xs md:text-base px-2 md:px-8",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("img",{className:"hidden md:inline h-10 w-10",src:null===(e=null===S||void 0===S?void 0:S.album.images)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.url,alt:""}),(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{children:null===S||void 0===S?void 0:S.name}),(0,n.jsx)("p",{children:null===S||void 0===S||null===(r=S.artists)||void 0===r||null===(o=r[0])||void 0===o?void 0:o.name})]})]}),(0,n.jsxs)("div",{className:"flex items-center justify-evenly",children:[(0,n.jsx)(l.aK0,{className:"button"}),(0,n.jsx)(l.o03,{className:"button"}),p?(0,n.jsx)(l.fpf,{onClick:C,className:"button w-10 h-10"}):(0,n.jsx)(l.o1U,{onClick:C,className:"button w-10 h-10"}),(0,n.jsx)(l.D6v,{className:"button"}),(0,n.jsx)(l.HA9,{className:"button"})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-3 md:space-x-4 justify-end pr-5",children:[(0,n.jsx)(s.MCl,{className:"button",onClick:function(){return N>0&&k(N-10)}}),(0,n.jsx)("input",{className:"w-14 md:w-28",type:"range",value:N,onChange:function(e){return k(Number(e.target.value))},min:"0",max:"100"}),(0,n.jsx)(l.MCl,{className:"button",onClick:function(){return N<100&&k(N+10)}})]})]})},$=!0,L=function(){return(0,n.jsxs)("div",{className:"bg-black h-screen overflow-hidden",children:[(0,n.jsxs)("main",{className:"flex",children:[(0,n.jsx)(y,{}),(0,n.jsx)(E,{})]}),(0,n.jsx)("div",{className:"sticky bottom-0",children:(0,n.jsx)(U,{})})]})}},4654:function(){}},function(e){e.O(0,[662,956,774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);